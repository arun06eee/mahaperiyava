<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <style type="text/css">
        .paging-nav {
            text-align: right;
            padding-top: 2px;
        }

        .paging-nav a {
            margin: auto 1px;
            text-decoration: none;
            display: inline-block;
            padding: 1px 7px;
            background: #91b9e6;
            color: white;
            border-radius: 3px;
        }

        .paging-nav .selected-page {
            background: #187ed5;
            font-weight: bold;
        }

        .paging-nav {
            width: 100%;
            text-align: center;
            margin: 0 auto;
            font-family: Arial, sans-serif;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>

    <script type="text/javascript"
        src="https://www.jqueryscript.net/demo/Client-side-HTML-Table-Pagination-Plugin-with-jQuery-Paging/paging.js"></script>

    <script>


        const getBookingSlot = async () => {

            const response = await fetch(`https://vuejs-892cb-default-rtdb.firebaseio.com/slots.json`)

            const responseData = await response.json();

            if (!response.ok) {
                const error = new Error(responseData.message || 'Failed to fetch!');
                throw error;
            }

            let tmpArr = [];
            let i = 0;

            for (const key in responseData) {
                i++;
                tmpArr.push(`
                    <tr>
                        <td>${i}</td>
                        <td>${responseData[key].name}</td>
                        <td>${responseData[key].email}</td>
                        <td>${responseData[key].phone}</td>
                        <td>${responseData[key].address}</td>
                        <td>${responseData[key].date}</td>
                        <td>${responseData[key].time}</td>
                    </tr>
                `);

            }

            $("#slotTable").find('tbody').empty().append(tmpArr.join(""));

            $('#slotTable').paging({ limit: 15 });
        }

        $(document).ready(function () {
            getBookingSlot();
        });
    </script>

    <title>Periyavaarul</title>
</head>

<body class="bg-light">

    <nav class="py-2 bg-white border-bottom shadow">
        <div class="container-fluid d-flex flex-wrap">
            <ul class="nav me-auto">
                <li class="nav-item">
                    <a href="/"
                        class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                        <img class="bi me-2" width="40" height="40"
                            src="https://static.wixstatic.com/media/b7b229_f1ac89e386784b4d9a7e30d0bd070554~mv2.jpg/v1/fill/w_235,h_176,al_c,q_80,usm_0.66_1.00_0.01/b7b229_f1ac89e386784b4d9a7e30d0bd070554~mv2.webp" />

                        <span class="fs-4 text-uppercase">Periyavaarul</span>
                    </a>
                </li>
            </ul>
            <ul class="nav">
                <li class="nav-item"><a href="index.html" class="nav-link link-dark px-2">Home</a></li>
                <li class="nav-item"><a href="admin.html" class="nav-link link-dark px-2">Admin</a></li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid m-0 bg-white">
        <div class="row border-bottom">
            <div class="col-md-6 ps-0">
                <!-- <article class="col-sm-12 p-0" style="height: 500px;"> -->
                <figure class="text-white">
                    <div
                        style="height: 500px; background-image: linear-gradient(0deg, rgba(60, 65, 60, 0.4), rgba(77, 75, 75, 0.4)), url('https://static.wixstatic.com/media/b7b229_c71e8ff2b50d48709149a2a0d527f2bc~mv2.jpg/v1/fill/w_566,h_319,al_c,q_90/b7b229_c71e8ff2b50d48709149a2a0d527f2bc~mv2.webp'); background-size: cover; background-position: 50% center;">
                        <img src="https://static.wixstatic.com/media/b7b229_c71e8ff2b50d48709149a2a0d527f2bc~mv2.jpg/v1/fill/w_566,h_319,al_c,q_90/b7b229_c71e8ff2b50d48709149a2a0d527f2bc~mv2.webp"
                            width="" height="" style="display: none;" alt="">

                        <div class="text-center position-relative pt-3" style="height: 100%;width: 100%;">
                            <h1 class="text-white">மஹாபெரியவா</h1>
                            <h5 class="text-warning">விண்ணையும் மண்ணையும் இணைக்கும் பிரபஞ்ச தெய்வம்!</h5>
                        </div>
                    </div>
                </figure>
                <!-- </article> -->
            </div>
            <div class="col-md-6 pe-0" style="height: 500px;">
                <!-- <article class="col-sm-12"> -->
                <figure class="text-white">
                    <div
                        style="height: 500px; background-image: linear-gradient(0deg, rgba(60, 65, 60, 0.4), rgba(77, 75, 75, 0.4)), url('https://static.wixstatic.com/media/b7b229_934ab98b6634445eb93ed631c322ed64~mv2.jpg/v1/fill/w_899,h_505,al_c,q_85,usm_0.66_1.00_0.01/Mama.webp'); background-size: cover; background-position: 50% center;">
                        <img src="https://static.wixstatic.com/media/b7b229_934ab98b6634445eb93ed631c322ed64~mv2.jpg/v1/fill/w_899,h_505,al_c,q_85,usm_0.66_1.00_0.01/Mama.webp"
                            width="" height="" style="display: none;" alt="">

                        <div
                            style=" position: relative;top: 0;height: 100%;width: 100%;left: 0;right: 0;bottom: 0;text-align: left;">

                        </div>
                    </div>
                </figure>
                <!-- </article> -->
            </div>
        </div>
    </div>

    <div class="container-fluid my-5" style="height: calc(100vh)">

        <div class="row m-auto border">

            <div class="col-sm-12 col-md-12 bg-secondary text-white text-center py-3">
                <h2>Appointment Booking Details</h2>
            </div>
        </div>

        <div class="row m-auto border">

            <div class="col-sm-12 col-md-12 bg-white text-white text-center py-3">
                <table class="table" id="slotTable">
                    <thead>
                        <tr>
                            <th>S.No</th>
                            <th>Full Name</th>
                            <th>Email Address</th>
                            <th>Phone Number</th>
                            <th>Address</th>
                            <th>Booking Date</th>
                            <th>Booking Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7">No Record Found</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row my-5">
            <div class="col-12 pagination_slot"></div>
        </div>
    </div>

    <div class="modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="btn-close text-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>